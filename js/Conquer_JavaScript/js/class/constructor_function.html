<!DOCTYPE html>
<html>
	<head>
		<meta charset="utf-8">
		<title></title>
	</head>
	<body>
		<script type="text/javascript">
			// 定义构造函数
            // 第一步
            function Data(a)
            {
            	    if(Object.prototype.toString.call(a) != '[object Array]')
            	    {
            	    	    throw new Error('参数a必须是一个数组');
            	    }
            	    this.a = a;
            };
            
            //  设置函数对象的原型
            Data.prototype = 
            {
            	    sum:function()
            	    {
            	    	    var result = 0;
            	    	    for(var i =0; i < this.a.length;i++)
            	    	    {
            	    	    	    result += this.a[i];
            	    	    }
            	    	    return result;
            	    },
            	    foreach:function(f)
            	    {
            	    	   for(var i = 0; i < this.a.length;i++)
            	    	   {
            	    	        f(this.a[i] * this.a[i]);	
            	    	   }
            	    }
            };
            
            var d = new Data([1,2,3,4,5]);
            console.log(d.sum());
            var f = function(v){console.log(v);};
            d.foreach(f);
		</script>
	</body>
</html>
